<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gravity Shop X - Tecnología y Estilo</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    
    <link rel="stylesheet" href="style.css">

    <style>
        /* =========================================
           CORRECCIÓN DEFINITIVA DEL MODO OSCURO
           ========================================= */
        
        /* Regla Maestra: Pinta el fondo de negro */
        body[data-theme="dark"] {
            background-color: #111111 !important;
            color: #ffffff !important;
        }

        /* Pantalla de carga */
        .loading-screen {
            transition: opacity 0.5s ease, visibility 0.5s ease;
        }
        .loading-screen.hidden {
            opacity: 0;
            visibility: hidden;
            pointer-events: none;
        }

        /* Correcciones de colores en modo oscuro */
        .nav-link { color: #333 !important; }
        .navbar-brand { color: #111 !important; }

        body[data-theme="dark"] .nav-link { color: #fff !important; }
        body[data-theme="dark"] .navbar-brand { color: #fff !important; }
        
        body[data-theme="dark"] .cart-header, 
        body[data-theme="dark"] .cart-footer,
        body[data-theme="dark"] .cart-item {
            border-color: #333;
            color: #fff;
        }

        .nav-link:hover { color: #4facfe !important; }

        /* Estilos generales */
        .container, .container-fluid {
            padding-left: 25px;
            padding-right: 25px;
            max-width: 1250px;
            margin: 0 auto;
        }

        @media (max-width: 768px) {
            .container, .container-fluid {
                padding-left: 20px;
                padding-right: 20px;
            }
            .display-3 { font-size: 2.5rem; }
        }

        .navbar-custom {
            padding: 15px 0;
            background-color: #ffffff !important;
            transition: background 0.3s ease;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky; 
            top: 0;
            z-index: 1000;
        }

        body[data-theme="dark"] .navbar-custom {
            background-color: #1a1a1a !important; 
        }

        .navbar-custom .container-fluid {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .nav-menu {
            display: flex;
            gap: 30px;
            align-items: center;
            list-style: none;
            margin: 0;
            padding: 0;
        }

        .nav-item { position: relative; }

        .nav-link {
            text-decoration: none;
            font-family: 'Inter', sans-serif;
            font-weight: 700;
            font-size: 0.9rem;
            text-transform: uppercase;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .dropdown-menu {
            display: none;
            position: absolute;
            top: 100%;
            left: -10px;
            background: #ffffff;
            min-width: 220px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            border-radius: 8px;
            padding: 10px 0;
            z-index: 1000;
            border: 1px solid #eee;
        }

        body[data-theme="dark"] .dropdown-menu {
            background: rgba(25, 25, 35, 0.98);
            border: 1px solid rgba(255,255,255,0.1);
        }

        .dropdown-menu li { list-style: none; }

        .dropdown-menu a {
            display: block;
            padding: 12px 25px;
            color: #333 !important;
            text-decoration: none;
            font-size: 0.9rem;
            font-family: 'Inter', sans-serif;
            transition: all 0.2s;
        }

        body[data-theme="dark"] .dropdown-menu a {
            color: #e0e0e0 !important;
        }

        .dropdown-menu a:hover {
            background: rgba(0,0,0,0.05);
            color: #4facfe !important;
            padding-left: 30px;
        }

        body[data-theme="dark"] .dropdown-menu a:hover {
            background: rgba(255,255,255,0.1);
        }

        .nav-item:hover .dropdown-menu {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @media (max-width: 992px) {
            .nav-menu { display: none; }
        }

        body[data-theme="dark"] .active-category-title {
            color: #ffffff !important;
        }

        body[data-theme="dark"] .price-filter label {
            color: #ffffff !important;
        }
        
        body[data-theme="dark"] #priceValue {
            color: #4facfe !important;
        }

        body[data-theme="dark"] .sort-select {
            background-color: #1e1e24 !important;
            color: #ffffff !important;
            border: 1px solid #444 !important;
        }

        body[data-theme="dark"] .sort-select option {
            background-color: #1e1e24;
            color: #fff;
        }
        
        body[data-theme="dark"] .category-controls-bar {
            background: #1e1e24 !important;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2) !important;
        }

        /* Hero Slider */
        .hero-slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 1s ease-in-out;
            background-size: cover !important;
            background-position: center !important;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .hero-slide.active {
            opacity: 1;
            z-index: 1;
        }

        .slide-animado {
            background: linear-gradient(-45deg, #0f172a, #6366f1, #764ba2, #1e293b);
            background-size: 400% 400%;
            animation: movimientoFondo 12s ease infinite;
        }

        @keyframes movimientoFondo {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .hero-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.4);
            z-index: 1;
        }

        .hero-content {
            position: relative;
            z-index: 2;
            text-align: center;
            color: #fff;
            padding: 20px;
            max-width: 800px;
        }

        .hero-logo-large {
            max-width: 280px;
            width: 100%;
            margin: 0 auto 1.5rem auto;
            display: block;
            filter: drop-shadow(0 0 20px rgba(0,0,0,0.6));
            animation: float 4s ease-in-out infinite;
        }

        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }

        /* Tarjetas Info */
        .info-cards-section {
            padding: 4rem 0;
            background: #111;
            margin-top: 0;
        }
        
        body[data-theme="dark"] .info-cards-section {
            background: #0a0a0a;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
            justify-content: center;
        }

        .info-card {
            background: linear-gradient(145deg, #1e1e24, #2a2a35);
            padding: 2.5rem 2rem;
            border-radius: 20px;
            text-align: center;
            border: 1px solid rgba(255,255,255,0.05);
            transition: transform 0.3s ease;
        }

        .info-card:hover {
            transform: translateY(-10px);
            border-color: #667eea;
        }

        .info-icon {
            font-size: 3rem;
            margin-bottom: 1.5rem;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .info-title {
            color: #fff;
            font-weight: 700;
            font-size: 1.2rem;
            margin-bottom: 0.8rem;
            font-family: 'Orbitron', sans-serif;
        }

        .info-text {
            color: #aaa;
            font-size: 0.95rem;
            margin: 0;
        }

        /* Redes Sociales */
        .social-links {
            display: flex;
            gap: 15px;
            margin-top: 15px;
        }

        .social-link {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            text-decoration: none;
            transition: all 0.3s ease;
            border: 2px solid #333; 
            color: #333;
        }

        .social-link i { font-size: 1.2rem; }

        .social-link:hover {
            background: #333;
            color: #fff;
            transform: translateY(-3px);
        }

        body[data-theme="dark"] .social-link {
            border-color: #fff;
            color: #fff;
        }

        body[data-theme="dark"] .social-link:hover {
            background: #fff;
            color: #000;
        }

        /* Modales */
        .info-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 2000;
            display: none;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(5px);
            padding: 20px;
        }

        .info-modal-content {
            background: #ffffff;
            color: #333;
            width: 100%;
            max-width: 600px;
            border-radius: 15px;
            padding: 30px;
            position: relative;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            animation: fadeInDown 0.3s ease;
        }
        
        body[data-theme="dark"] .info-modal-content {
            background: #1e1e24;
            color: #fff;
        }

        .info-modal h2 {
            font-family: 'Orbitron', sans-serif;
            margin-bottom: 20px;
            color: #4facfe;
            border-bottom: 2px solid rgba(102, 126, 234, 0.2);
            padding-bottom: 10px;
        }

        .info-modal p, .info-modal li {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .info-modal .close-info-btn {
            position: absolute;
            top: 15px;
            right: 20px;
            background: none;
            border: none;
            font-size: 1.5rem;
            color: inherit;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="loading-screen" id="loadingScreen">
        <div class="loader-box">
            <div class="loader"></div>
            <p class="mt-3 fw-bold">Cargando Gravity Shop X...</p>
        </div>
    </div>

    <nav class="navbar-custom">
        <div class="container-fluid">
            <a href="#" class="navbar-brand fw-bold" onclick="showHome(); return false;">
                <img src="logo.PNG" alt="Logo" class="brand-logo" style="height: 45px; width: auto; border-radius: 50%;"> 
                <span class="brand-text">GRAVITY SHOP X</span>
            </a>

            <button class="menu-toggle" onclick="toggleMenu()">
                <i class="fas fa-bars"></i>
            </button>

            <ul class="nav-menu" id="navMenu">
                <li class="nav-item">
                    <a href="#" class="nav-link" onclick="showHome()">INICIO</a>
                </li>
                
                <li class="nav-item dropdown-wrapper">
                    <div class="link-split" onclick="toggleSubmenu(event)" style="display: flex; justify-content: space-between; width: 100%;">
                        <span class="nav-link">ROPA</span>
                        <i class="fas fa-chevron-down arrow-icon" style="color: white;"></i>
                    </div>
                    <ul class="dropdown-menu" id="ropaSubmenu">
                        <li><a href="#" onclick="activateTab('camisa-hombre', 'Camisas')">Camisas Hombre</a></li>
                        <li><a href="#" onclick="activateTab('buso-hombre', 'Busos Hombre')">Busos Hombre</a></li>
                        <li><a href="#" onclick="activateTab('dividi-hombre', 'Dividis')">Dividis Hombre</a></li>
                        <li><a href="#" onclick="activateTab('buso-mujer', 'Busos Mujer')">Busos Mujer</a></li>
                    </ul>
                </li>

                <li class="nav-item"><a href="#" class="nav-link" onclick="activateTab('tecnologia', 'TECNOLOGIA')">TECNOLOGIA</a></li>
                <li class="nav-item"><a href="#" class="nav-link" onclick="activateTab('accesorios', 'ACCESORIOS')">ACCESORIOS</a></li>
                <li class="nav-item"><a href="#" class="nav-link" onclick="openInfoModal('modalUbicacion')">UBICACION</a></li>
            </ul>

            <div class="nav-controls">
                <div class="search-box">
                    <i class="fas fa-search"></i>
                    <input type="text" id="searchInput" placeholder="Buscar...">
                </div>
                
                <button class="icon-btn" id="themeToggleManual" onclick="toggleThemeManual()">
                    <i class="fas fa-moon"></i>
                </button>
                
                <button class="icon-btn position-relative" onclick="toggleCart()">
                    <i class="fas fa-shopping-cart"></i>
                    <span class="badge-count" id="cartBadge">0</span>
                </button>
            </div>
        </div>
    </nav>
    <div id="homeSection">
        <section class="hero-slider">
            <div class="hero-slide active slide-animado">
                <div class="hero-overlay"></div>
                <div class="hero-content">
                    <div class="hero-text animate__animated animate__fadeInUp">
                        <h1 class="display-4 fw-bold mb-2">Gravity Shop X</h1>
                        <img src="logo.PNG" alt="Gravity Shop Logo" class="hero-logo-large">
                        <p class="lead mb-4 fw-bold" style="text-shadow: 0 2px 4px rgba(0,0,0,0.8);">
                            "Aquí la gravedad se detiene compra sin límites."
                        </p>
                        <button class="cta-btn" onclick="activateTab('all', 'Todos los Productos')">
                            Explorar Catálogo <i class="fas fa-arrow-right ms-2"></i>
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="hero-slide" style="background: url('https://images.unsplash.com/photo-1510017803434-a899398421b3?q=80&w=2070&auto=format&fit=crop') no-repeat center center/cover;">
                <div class="hero-overlay"></div>
                <div class="hero-content">
                    <div class="hero-text animate__animated animate__fadeInUp">
                        <h1 class="display-3 fw-bold mb-3">Smartwatches Increíbles</h1>
                        <p class="lead mb-4">Controla tu mundo desde tu muñeca</p>
                        <button class="cta-btn" onclick="activateTab('tecnologia', 'Tecnología')">
                            Ver Tecnología <i class="fas fa-arrow-right ms-2"></i>
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="hero-slide" style="background: url('https://images.unsplash.com/photo-1517836357463-d25dfeac3438?q=80&w=2070&auto=format&fit=crop') no-repeat center center/cover;">
                <div class="hero-overlay"></div>
                <div class="hero-content">
                    <div class="hero-text animate__animated animate__fadeInUp">
                        <h1 class="display-3 fw-bold mb-3">Ropa Deportiva</h1>
                        <p class="lead mb-4">Entrena con estilo y rendimiento superior</p>
                        <button class="cta-btn" onclick="activateTab('camisa-hombre', 'Moda Hombre')">
                            Ver Ropa <i class="fas fa-arrow-right ms-2"></i>
                        </button>
                    </div>
                </div>
            </div>
            
            <button class="slider-arrow prev" onclick="changeSlide(-1)">
                <i class="fas fa-chevron-left"></i>
            </button>
            <button class="slider-arrow next" onclick="changeSlide(1)">
                <i class="fas fa-chevron-right"></i>
            </button>
            
            <div class="slider-dots">
                <span class="dot active" onclick="goToSlide(0)"></span>
                <span class="dot" onclick="goToSlide(1)"></span>
                <span class="dot" onclick="goToSlide(2)"></span>
            </div>
        </section>

        <section class="info-cards-section">
            <div class="container">
                <div class="info-grid">
                    <div class="info-card">
                        <div class="info-icon"><i class="fas fa-truck-fast"></i></div>
                        <h3 class="info-title">Envío Rápido</h3>
                        <p class="info-text">Envíos seguros a todo el Ecuador por Servientrega o LaarCourier.</p>
                    </div>
                    <div class="info-card">
                        <div class="info-icon"><i class="fas fa-shield-halved"></i></div>
                        <h3 class="info-title">Compra 100% Segura</h3>
                        <p class="info-text">Tus datos están protegidos. Garantía en todos nuestros productos.</p>
                    </div>
                    <div class="info-card">
                        <div class="info-icon"><i class="fas fa-store"></i></div>
                        <h3 class="info-title">Tienda Física</h3>
                        <p class="info-text">Visítanos en Santo Domingo. ¡Te esperamos hoy mismo!</p>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <div id="productViewSection" style="display: none; padding-top: 3rem; min-height: 80vh;">
        <div class="container">
            <div class="category-controls-bar" style="background: var(--bg-card, #fff); padding: 20px; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.05); margin-bottom: 30px; display: flex; flex-wrap: wrap; gap: 20px; justify-content: space-between; align-items: center;">
                <div class="active-category-title" id="categoryTitle" style="font-family: 'Orbitron', sans-serif; font-size: 1.5rem; font-weight: 700;">Productos</div>
                <div class="sort-controls" style="display: flex; gap: 20px; align-items: center; flex-wrap: wrap;">
                    <div class="price-filter">
                        <label class="small mb-1" style="display: block; font-weight: 600;">Precio máx: <span id="priceValue">$50</span></label>
                        <input type="range" class="form-range" id="priceRange" min="3" max="50" step="1" value="50">
                        <div class="d-flex justify-content-between text-muted small">
                            <span>Min: $3</span>
                            <span id="priceValue" style="font-weight:bold; color:var(--primary);">$50</span>
                        </div>
                    </div>
                    <select class="sort-select" id="sortSelect" onchange="sortProducts()" style="padding: 10px; border-radius: 8px; border: 1px solid #ddd; background: var(--bg-body); color: var(--text-color);">
                        <option value="default">Ordenar por</option>
                        <option value="price-low">Precio: Menor a Mayor</option>
                        <option value="price-high">Precio: Mayor a Menor</option>
                        <option value="rating">Mejor Valorados</option>
                    </select>
                </div>
            </div>
            <div class="products-grid" id="productsContainer"></div>
        </div>
    </div>

    <div class="info-modal" id="modalNosotros">
        <div class="info-modal-content">
            <button class="close-info-btn" onclick="closeInfoModal('modalNosotros')">×</button>
            <h2>Sobre Nosotros</h2>
            <p><strong>Gravity Shop X</strong> nació en el año 2021 en la ciudad de Santo Domingo, Ecuador, con una misión clara: acercar la tecnología innovadora y ropa de calidad a todos los rincones del país.</p>
            <p>Lo que comenzó como un pequeño emprendimiento digital, hoy se ha consolidado como una tienda referente gracias a la confianza de miles de clientes satisfechos.</p>
            <p>Nos especializamos en seleccionar productos que combinan funcionalidad, durabilidad y estilo. No solo vendemos artículos, vendemos una experiencia de compra premium y segura.</p>
        </div>
    </div>

    <div class="info-modal" id="modalFaq">
        <div class="info-modal-content">
            <button class="close-info-btn" onclick="closeInfoModal('modalFaq')">×</button>
            <h2>Preguntas Frecuentes</h2>
            <p><strong>1. ¿Es seguro comprar aquí?</strong><br>
            Absolutamente. Somos una empresa verificada con local físico desde 2021. Miles de clientes respaldan nuestra seriedad.</p>
            <p><strong>2. ¿Cómo realizan los envíos?</strong><br>
            Trabajamos principalmente con Servientrega y LaarCourier para garantizar que tu pedido llegue seguro a la puerta de tu casa en 24-48 horas laborables.</p>
            <p><strong>3. ¿Tienen garantía los productos?</strong><br>
            Sí, todos nuestros productos tecnológicos cuentan con garantía por defectos de fábrica. Revisa los términos y condiciones para más detalles.</p>
            <p><strong>4. ¿Puedo visitar su local?</strong><br>
            ¡Claro! Estamos ubicados en Santo Domingo. Puedes ver la ubicación exacta en la sección "Ubicación" del menú.</p>
            <p><strong>5. ¿Qué métodos de pago aceptan?</strong><br>
            Aceptamos transferencias bancarias directas (Pichincha, Guayaquil) y pagos en efectivo en nuestro local.</p>
        </div>
    </div>

    <div class="info-modal" id="modalPolitica">
        <div class="info-modal-content">
            <button class="close-info-btn" onclick="closeInfoModal('modalPolitica')">×</button>
            <h2>Políticas y Terminos</h2>
            <p><strong>Protección de Datos</strong></p>
             <p>-En Gravity Shop X nos tomamos muy en serio tu privacidad. Los datos que proporcionas (nombre, dirección, teléfono) se utilizan exclusivamente para procesar y enviar tus pedidos.</p>
             <p>-Tu información es confidencial. NUNCA venderemos, alquilaremos ni compartiremos tu número de teléfono o datos personales con terceros ajenos a nuestra empresa.</p>
             <p>-Tus datos solo se comparten con la empresa de mensajería (Courier) estrictamente para realizar la entrega.</p>
            <p><strong>Cambios y Devoluciones:</strong> Se aceptan cambios únicamente si el producto presenta fallas de fábrica dentro de las primeras 24 horas de recibido.</p>
        </div>
    </div>

    <div class="info-modal" id="modalUbicacion">
        <div class="info-modal-content" style="text-align: center;">
            <button class="close-info-btn" onclick="closeInfoModal('modalUbicacion')">×</button>
            <h2>Nuestra Ubicación</h2>
            <p>Visítanos en nuestro local principal:</p>
            <p><i class="fas fa-map-marker-alt" style="color: #4facfe; font-size: 2rem;"></i></p>
            <p style="font-size: 1.2rem; font-weight: bold;">Urbanización Sueño de Bolivar</p>
            <p>Santo Domingo, Ecuador</p>
            <p><em>(Bajando las piscinas del Trebol)</em></p>
            
            <div style="margin-top: 15px; border-radius: 10px; overflow: hidden;">
                <iframe 
                    src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2372.34214383008!2d-79.16182816477367!3d-0.22333866027202448!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x91d5479247141dd1%3A0xc383784d0398f2fe!2sGravity%20Shop!5e0!3m2!1ses-419!2sec!4v1770184107373!5m2!1ses-419!2sec" 
                    width="100%" 
                    height="450" 
                    style="border:0;" 
                    allowfullscreen="" 
                    loading="lazy" 
                    referrerpolicy="no-referrer-when-downgrade">
                </iframe>
            </div>

            <hr>
            <p><strong>Horarios de Atención:</strong></p>
            <ul style="list-style: none; padding: 0;">
                <li>Lunes a Viernes: 08:00 - 20:30</li>
                <li>Sábados: 09:00 - 18:00</li>
            </ul>
        </div>
    </div>

    <div class="cart-overlay" onclick="toggleCart()"></div>
    <div class="cart-sidebar">
        <div class="cart-header">
            <h3 class="mb-0"><i class="fas fa-shopping-cart me-2"></i> Tu Carrito</h3>
            <button class="close-btn" onclick="toggleCart()"><i class="fas fa-times"></i></button>
        </div>
        <div class="cart-body" id="cartItems">
            <div class="empty-cart">
                <i class="fas fa-shopping-basket"></i>
                <p>Tu carrito está vacío</p>
            </div>
        </div>
        <div class="cart-footer">
            <div class="cart-total">
                <span>Total:</span>
                <span class="total-price" id="cartTotal">$0.00</span>
            </div>
            <button class="checkout-btn" onclick="checkoutWhatsApp()">
                <i class="fab fa-whatsapp me-2"></i> Finalizar por WhatsApp
            </button>
        </div>
    </div>

    <div class="modal-overlay" id="quickViewOverlay" onclick="closeQuickView()"></div>
    <div class="quick-view-modal" id="quickViewModal">
        <button class="close-modal-btn" onclick="closeQuickView()"><i class="fas fa-times"></i></button>
        <div id="quickViewContent"></div>
    </div>

    <div class="notification-toast" id="notification">
        <i class="fas fa-check-circle me-2"></i> <span id="notifMsg">Producto agregado</span>
    </div>

    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-col">
                    <h4 class="footer-title">GRAVITY SHOP X</h4>
                    <p class="footer-text">Líderes en tecnología y moda desde 2021. Calidad garantizada.</p>
                    <div class="social-links">
                        <a href="#" class="social-link"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-tiktok"></i></a>
                    </div>
                </div>
                <div class="footer-col">
                    <h5 class="footer-subtitle">INFORMACION</h5>
                    <ul class="footer-links">
                        <li><a href="#" onclick="openInfoModal('modalNosotros')">Sobre Nosotros</a></li>
                        <li><a href="#" onclick="openInfoModal('modalPolitica')">Políticas / Terminos y Condiciones</a></li>
                        <li><a href="#" onclick="openInfoModal('modalFaq')">Preguntas Frecuentes</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h5 class="footer-subtitle">CONTACTO</h5>
                    <ul class="footer-contact">
                        <li><i class="fas fa-map-marker-alt"></i> Santo Domingo, Ecuador</li>
                        <li><i class="fas fa-phone"></i> +593 98 310 5527</li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>© 2026 Gravity Shop X. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>

    <a href="https://wa.me/593999999999" target="_blank" class="whatsapp-float"><i class="fab fa-whatsapp"></i></a>
    <button class="scroll-top" id="scrollTop" onclick="window.scrollTo({top: 0, behavior: 'smooth'})"><i class="fas fa-arrow-up"></i></button>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="main.js"></script>

    <script>
        // Esta función corre INMEDIATAMENTE al cargar
        (function() {
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'dark') {
                document.body.setAttribute('data-theme', 'dark');
                const icon = document.querySelector('#themeToggleManual i');
                if(icon) { icon.classList.remove('fa-moon'); icon.classList.add('fa-sun'); }
            }
        })();

        // Función exclusiva para el botón (No choca con main.js porque cambiamos el ID)
        function toggleThemeManual() {
            const body = document.body;
            const icon = document.querySelector('#themeToggleManual i');
            
            if (body.hasAttribute('data-theme')) {
                // Cambiar a CLARO
                body.removeAttribute('data-theme');
                localStorage.setItem('theme', 'light');
                if(icon) { icon.classList.remove('fa-sun'); icon.classList.add('fa-moon'); }
            } else {
                // Cambiar a OSCURO
                body.setAttribute('data-theme', 'dark');
                localStorage.setItem('theme', 'dark');
                if(icon) { icon.classList.remove('fa-moon'); icon.classList.add('fa-sun'); }
            }
        }
    </script>

    <script>
        // Scripts para Slider y UI básica
        let slideIndex = 0;
        const slides = document.querySelectorAll('.hero-slide');
        const dots = document.querySelectorAll('.dot');
        let slideTimer;

        function showSlide(n) {
            if (n >= slides.length) slideIndex = 0;
            if (n < 0) slideIndex = slides.length - 1;

            slides.forEach(slide => slide.classList.remove('active'));
            dots.forEach(dot => dot.classList.remove('active'));

            slides[slideIndex].classList.add('active');
            dots[slideIndex].classList.add('active');
        }

        function changeSlide(n) {
            slideIndex += n;
            showSlide(slideIndex);
            resetTimer();
        }

        function goToSlide(n) {
            slideIndex = n;
            showSlide(slideIndex);
            resetTimer();
        }

        function startTimer() {
            slideTimer = setInterval(() => changeSlide(1), 5000);
        }

        function resetTimer() {
            clearInterval(slideTimer);
            startTimer();
        }

        document.addEventListener('DOMContentLoaded', () => {
            startTimer();
        });

        // Tabs
        function showHome() {
            document.getElementById('homeSection').style.display = 'block';
            document.getElementById('productViewSection').style.display = 'none';
            window.scrollTo({top: 0, behavior: 'smooth'});
        }

        function activateTab(category, titleName) {
            document.getElementById('homeSection').style.display = 'none';
            document.getElementById('productViewSection').style.display = 'block';
            document.getElementById('categoryTitle').textContent = titleName;
            
            if (typeof filterByCategory === "function") {
                filterByCategory(category);
            }
            
            const section = document.getElementById('productViewSection');
            if(section) {
                const topOffset = section.getBoundingClientRect().top + window.pageYOffset - 100;
                window.scrollTo({top: topOffset, behavior: 'smooth'});
            }
        }

        // Modales
        function openInfoModal(modalId) {
            const modal = document.getElementById(modalId);
            if(modal) {
                modal.style.display = 'flex';
                document.body.style.overflow = 'hidden';
            }
        }

        function closeInfoModal(modalId) {
            const modal = document.getElementById(modalId);
            if(modal) {
                modal.style.display = 'none';
                document.body.style.overflow = 'auto';
            }
        }

        window.onclick = function(event) {
            if (event.target.classList.contains('info-modal')) {
                event.target.style.display = "none";
                document.body.style.overflow = 'auto';
            }
        }
    </script>
    <script>
    // Forzar ocultar carga (por si main.js falla)
    window.addEventListener('load', function() {
        setTimeout(function() {
            const loader = document.getElementById('loadingScreen');
            if (loader) {
                loader.classList.add('hidden');
                document.body.style.overflow = 'auto';
            }
        }, 2000);
    });
    </script>
</body>
</html><!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gravity Shop X - Tecnología y Estilo</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    
    <link rel="stylesheet" href="style.css">

    <style>
        /* =========================================
           CORRECCIÓN DEFINITIVA DEL MODO OSCURO
           ========================================= */
        
        /* Regla Maestra: Pinta el fondo de negro */
        body[data-theme="dark"] {
            background-color: #111111 !important;
            color: #ffffff !important;
        }

        /* Pantalla de carga */
        .loading-screen {
            transition: opacity 0.5s ease, visibility 0.5s ease;
        }
        .loading-screen.hidden {
            opacity: 0;
            visibility: hidden;
            pointer-events: none;
        }

        /* Correcciones de colores en modo oscuro */
        .nav-link { color: #333 !important; }
        .navbar-brand { color: #111 !important; }

        body[data-theme="dark"] .nav-link { color: #fff !important; }
        body[data-theme="dark"] .navbar-brand { color: #fff !important; }
        
        body[data-theme="dark"] .cart-header, 
        body[data-theme="dark"] .cart-footer,
        body[data-theme="dark"] .cart-item {
            border-color: #333;
            color: #fff;
        }

        .nav-link:hover { color: #4facfe !important; }

        /* Estilos generales */
        .container, .container-fluid {
            padding-left: 25px;
            padding-right: 25px;
            max-width: 1250px;
            margin: 0 auto;
        }

        @media (max-width: 768px) {
            .container, .container-fluid {
                padding-left: 20px;
                padding-right: 20px;
            }
            .display-3 { font-size: 2.5rem; }
        }

        .navbar-custom {
            padding: 15px 0;
            background-color: #ffffff !important;
            transition: background 0.3s ease;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky; 
            top: 0;
            z-index: 1000;
        }

        body[data-theme="dark"] .navbar-custom {
            background-color: #1a1a1a !important; 
        }

        .navbar-custom .container-fluid {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .nav-menu {
            display: flex;
            gap: 30px;
            align-items: center;
            list-style: none;
            margin: 0;
            padding: 0;
        }

        .nav-item { position: relative; }

        .nav-link {
            text-decoration: none;
            font-family: 'Inter', sans-serif;
            font-weight: 700;
            font-size: 0.9rem;
            text-transform: uppercase;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .dropdown-menu {
            display: none;
            position: absolute;
            top: 100%;
            left: -10px;
            background: #ffffff;
            min-width: 220px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            border-radius: 8px;
            padding: 10px 0;
            z-index: 1000;
            border: 1px solid #eee;
        }

        body[data-theme="dark"] .dropdown-menu {
            background: rgba(25, 25, 35, 0.98);
            border: 1px solid rgba(255,255,255,0.1);
        }

        .dropdown-menu li { list-style: none; }

        .dropdown-menu a {
            display: block;
            padding: 12px 25px;
            color: #333 !important;
            text-decoration: none;
            font-size: 0.9rem;
            font-family: 'Inter', sans-serif;
            transition: all 0.2s;
        }

        body[data-theme="dark"] .dropdown-menu a {
            color: #e0e0e0 !important;
        }

        .dropdown-menu a:hover {
            background: rgba(0,0,0,0.05);
            color: #4facfe !important;
            padding-left: 30px;
        }

        body[data-theme="dark"] .dropdown-menu a:hover {
            background: rgba(255,255,255,0.1);
        }

        .nav-item:hover .dropdown-menu {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @media (max-width: 992px) {
            .nav-menu { display: none; }
        }

        body[data-theme="dark"] .active-category-title {
            color: #ffffff !important;
        }

        body[data-theme="dark"] .price-filter label {
            color: #ffffff !important;
        }
        
        body[data-theme="dark"] #priceValue {
            color: #4facfe !important;
        }

        body[data-theme="dark"] .sort-select {
            background-color: #1e1e24 !important;
            color: #ffffff !important;
            border: 1px solid #444 !important;
        }

        body[data-theme="dark"] .sort-select option {
            background-color: #1e1e24;
            color: #fff;
        }
        
        body[data-theme="dark"] .category-controls-bar {
            background: #1e1e24 !important;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2) !important;
        }

        /* Hero Slider */
        .hero-slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 1s ease-in-out;
            background-size: cover !important;
            background-position: center !important;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .hero-slide.active {
            opacity: 1;
            z-index: 1;
        }

        .slide-animado {
            background: linear-gradient(-45deg, #0f172a, #6366f1, #764ba2, #1e293b);
            background-size: 400% 400%;
            animation: movimientoFondo 12s ease infinite;
        }

        @keyframes movimientoFondo {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .hero-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.4);
            z-index: 1;
        }

        .hero-content {
            position: relative;
            z-index: 2;
            text-align: center;
            color: #fff;
            padding: 20px;
            max-width: 800px;
        }

        .hero-logo-large {
            max-width: 280px;
            width: 100%;
            margin: 0 auto 1.5rem auto;
            display: block;
            filter: drop-shadow(0 0 20px rgba(0,0,0,0.6));
            animation: float 4s ease-in-out infinite;
        }

        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }

        /* Tarjetas Info */
        .info-cards-section {
            padding: 4rem 0;
            background: #111;
            margin-top: 0;
        }
        
        body[data-theme="dark"] .info-cards-section {
            background: #0a0a0a;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
            justify-content: center;
        }

        .info-card {
            background: linear-gradient(145deg, #1e1e24, #2a2a35);
            padding: 2.5rem 2rem;
            border-radius: 20px;
            text-align: center;
            border: 1px solid rgba(255,255,255,0.05);
            transition: transform 0.3s ease;
        }

        .info-card:hover {
            transform: translateY(-10px);
            border-color: #667eea;
        }

        .info-icon {
            font-size: 3rem;
            margin-bottom: 1.5rem;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .info-title {
            color: #fff;
            font-weight: 700;
            font-size: 1.2rem;
            margin-bottom: 0.8rem;
            font-family: 'Orbitron', sans-serif;
        }

        .info-text {
            color: #aaa;
            font-size: 0.95rem;
            margin: 0;
        }

        /* Redes Sociales */
        .social-links {
            display: flex;
            gap: 15px;
            margin-top: 15px;
        }

        .social-link {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            text-decoration: none;
            transition: all 0.3s ease;
            border: 2px solid #333; 
            color: #333;
        }

        .social-link i { font-size: 1.2rem; }

        .social-link:hover {
            background: #333;
            color: #fff;
            transform: translateY(-3px);
        }

        body[data-theme="dark"] .social-link {
            border-color: #fff;
            color: #fff;
        }

        body[data-theme="dark"] .social-link:hover {
            background: #fff;
            color: #000;
        }

        /* Modales */
        .info-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 2000;
            display: none;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(5px);
            padding: 20px;
        }

        .info-modal-content {
            background: #ffffff;
            color: #333;
            width: 100%;
            max-width: 600px;
            border-radius: 15px;
            padding: 30px;
            position: relative;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            animation: fadeInDown 0.3s ease;
        }
        
        body[data-theme="dark"] .info-modal-content {
            background: #1e1e24;
            color: #fff;
        }

        .info-modal h2 {
            font-family: 'Orbitron', sans-serif;
            margin-bottom: 20px;
            color: #4facfe;
            border-bottom: 2px solid rgba(102, 126, 234, 0.2);
            padding-bottom: 10px;
        }

        .info-modal p, .info-modal li {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .info-modal .close-info-btn {
            position: absolute;
            top: 15px;
            right: 20px;
            background: none;
            border: none;
            font-size: 1.5rem;
            color: inherit;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="loading-screen" id="loadingScreen">
        <div class="loader-box">
            <div class="loader"></div>
            <p class="mt-3 fw-bold">Cargando Gravity Shop X...</p>
        </div>
    </div>

    <nav class="navbar-custom">
        <div class="container-fluid">
            <a href="#" class="navbar-brand fw-bold" onclick="showHome(); return false;">
                <img src="logo.PNG" alt="Logo" class="brand-logo" style="height: 45px; width: auto; border-radius: 50%;"> 
                <span class="brand-text">GRAVITY SHOP X</span>
            </a>

            <button class="menu-toggle" onclick="toggleMenu()">
                <i class="fas fa-bars"></i>
            </button>

            <ul class="nav-menu" id="navMenu">
                <li class="nav-item">
                    <a href="#" class="nav-link" onclick="showHome()">INICIO</a>
                </li>
                
                <li class="nav-item dropdown-wrapper">
                    <div class="link-split" onclick="toggleSubmenu(event)" style="display: flex; justify-content: space-between; width: 100%;">
                        <span class="nav-link">ROPA</span>
                        <i class="fas fa-chevron-down arrow-icon" style="color: white;"></i>
                    </div>
                    <ul class="dropdown-menu" id="ropaSubmenu">
                        <li><a href="#" onclick="activateTab('camisa-hombre', 'Camisas')">Camisas Hombre</a></li>
                        <li><a href="#" onclick="activateTab('buso-hombre', 'Busos Hombre')">Busos Hombre</a></li>
                        <li><a href="#" onclick="activateTab('dividi-hombre', 'Dividis')">Dividis Hombre</a></li>
                        <li><a href="#" onclick="activateTab('buso-mujer', 'Busos Mujer')">Busos Mujer</a></li>
                    </ul>
                </li>

                <li class="nav-item"><a href="#" class="nav-link" onclick="activateTab('tecnologia', 'TECNOLOGIA')">TECNOLOGIA</a></li>
                <li class="nav-item"><a href="#" class="nav-link" onclick="activateTab('accesorios', 'ACCESORIOS')">ACCESORIOS</a></li>
                <li class="nav-item"><a href="#" class="nav-link" onclick="openInfoModal('modalUbicacion')">UBICACION</a></li>
            </ul>

            <div class="nav-controls">
                <div class="search-box">
                    <i class="fas fa-search"></i>
                    <input type="text" id="searchInput" placeholder="Buscar...">
                </div>
                
                <button class="icon-btn" id="themeToggleManual" onclick="toggleThemeManual()">
                    <i class="fas fa-moon"></i>
                </button>
                
                <button class="icon-btn position-relative" onclick="toggleCart()">
                    <i class="fas fa-shopping-cart"></i>
                    <span class="badge-count" id="cartBadge">0</span>
                </button>
            </div>
        </div>
    </nav>
    <div id="homeSection">
        <section class="hero-slider">
            <div class="hero-slide active slide-animado">
                <div class="hero-overlay"></div>
                <div class="hero-content">
                    <div class="hero-text animate__animated animate__fadeInUp">
                        <h1 class="display-4 fw-bold mb-2">Gravity Shop X</h1>
                        <img src="logo.PNG" alt="Gravity Shop Logo" class="hero-logo-large">
                        <p class="lead mb-4 fw-bold" style="text-shadow: 0 2px 4px rgba(0,0,0,0.8);">
                            "Aquí la gravedad se detiene compra sin límites."
                        </p>
                        <button class="cta-btn" onclick="activateTab('all', 'Todos los Productos')">
                            Explorar Catálogo <i class="fas fa-arrow-right ms-2"></i>
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="hero-slide" style="background: url('https://images.unsplash.com/photo-1510017803434-a899398421b3?q=80&w=2070&auto=format&fit=crop') no-repeat center center/cover;">
                <div class="hero-overlay"></div>
                <div class="hero-content">
                    <div class="hero-text animate__animated animate__fadeInUp">
                        <h1 class="display-3 fw-bold mb-3">Smartwatches Increíbles</h1>
                        <p class="lead mb-4">Controla tu mundo desde tu muñeca</p>
                        <button class="cta-btn" onclick="activateTab('tecnologia', 'Tecnología')">
                            Ver Tecnología <i class="fas fa-arrow-right ms-2"></i>
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="hero-slide" style="background: url('https://images.unsplash.com/photo-1517836357463-d25dfeac3438?q=80&w=2070&auto=format&fit=crop') no-repeat center center/cover;">
                <div class="hero-overlay"></div>
                <div class="hero-content">
                    <div class="hero-text animate__animated animate__fadeInUp">
                        <h1 class="display-3 fw-bold mb-3">Ropa Deportiva</h1>
                        <p class="lead mb-4">Entrena con estilo y rendimiento superior</p>
                        <button class="cta-btn" onclick="activateTab('camisa-hombre', 'Moda Hombre')">
                            Ver Ropa <i class="fas fa-arrow-right ms-2"></i>
                        </button>
                    </div>
                </div>
            </div>
            
            <button class="slider-arrow prev" onclick="changeSlide(-1)">
                <i class="fas fa-chevron-left"></i>
            </button>
            <button class="slider-arrow next" onclick="changeSlide(1)">
                <i class="fas fa-chevron-right"></i>
            </button>
            
            <div class="slider-dots">
                <span class="dot active" onclick="goToSlide(0)"></span>
                <span class="dot" onclick="goToSlide(1)"></span>
                <span class="dot" onclick="goToSlide(2)"></span>
            </div>
        </section>

        <section class="info-cards-section">
            <div class="container">
                <div class="info-grid">
                    <div class="info-card">
                        <div class="info-icon"><i class="fas fa-truck-fast"></i></div>
                        <h3 class="info-title">Envío Rápido</h3>
                        <p class="info-text">Envíos seguros a todo el Ecuador por Servientrega o LaarCourier.</p>
                    </div>
                    <div class="info-card">
                        <div class="info-icon"><i class="fas fa-shield-halved"></i></div>
                        <h3 class="info-title">Compra 100% Segura</h3>
                        <p class="info-text">Tus datos están protegidos. Garantía en todos nuestros productos.</p>
                    </div>
                    <div class="info-card">
                        <div class="info-icon"><i class="fas fa-store"></i></div>
                        <h3 class="info-title">Tienda Física</h3>
                        <p class="info-text">Visítanos en Santo Domingo. ¡Te esperamos hoy mismo!</p>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <div id="productViewSection" style="display: none; padding-top: 3rem; min-height: 80vh;">
        <div class="container">
            <div class="category-controls-bar" style="background: var(--bg-card, #fff); padding: 20px; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.05); margin-bottom: 30px; display: flex; flex-wrap: wrap; gap: 20px; justify-content: space-between; align-items: center;">
                <div class="active-category-title" id="categoryTitle" style="font-family: 'Orbitron', sans-serif; font-size: 1.5rem; font-weight: 700;">Productos</div>
                <div class="sort-controls" style="display: flex; gap: 20px; align-items: center; flex-wrap: wrap;">
                    <div class="price-filter">
                        <label class="small mb-1" style="display: block; font-weight: 600;">Precio máx: <span id="priceValue">$50</span></label>
                        <input type="range" class="form-range" id="priceRange" min="3" max="50" step="1" value="50">
                        <div class="d-flex justify-content-between text-muted small">
                            <span>Min: $3</span>
                            <span id="priceValue" style="font-weight:bold; color:var(--primary);">$50</span>
                        </div>
                    </div>
                    <select class="sort-select" id="sortSelect" onchange="sortProducts()" style="padding: 10px; border-radius: 8px; border: 1px solid #ddd; background: var(--bg-body); color: var(--text-color);">
                        <option value="default">Ordenar por</option>
                        <option value="price-low">Precio: Menor a Mayor</option>
                        <option value="price-high">Precio: Mayor a Menor</option>
                        <option value="rating">Mejor Valorados</option>
                    </select>
                </div>
            </div>
            <div class="products-grid" id="productsContainer"></div>
        </div>
    </div>

    <div class="info-modal" id="modalNosotros">
        <div class="info-modal-content">
            <button class="close-info-btn" onclick="closeInfoModal('modalNosotros')">×</button>
            <h2>Sobre Nosotros</h2>
            <p><strong>Gravity Shop X</strong> nació en el año 2021 en la ciudad de Santo Domingo, Ecuador, con una misión clara: acercar la tecnología innovadora y ropa de calidad a todos los rincones del país.</p>
            <p>Lo que comenzó como un pequeño emprendimiento digital, hoy se ha consolidado como una tienda referente gracias a la confianza de miles de clientes satisfechos.</p>
            <p>Nos especializamos en seleccionar productos que combinan funcionalidad, durabilidad y estilo. No solo vendemos artículos, vendemos una experiencia de compra premium y segura.</p>
        </div>
    </div>

    <div class="info-modal" id="modalFaq">
        <div class="info-modal-content">
            <button class="close-info-btn" onclick="closeInfoModal('modalFaq')">×</button>
            <h2>Preguntas Frecuentes</h2>
            <p><strong>1. ¿Es seguro comprar aquí?</strong><br>
            Absolutamente. Somos una empresa verificada con local físico desde 2021. Miles de clientes respaldan nuestra seriedad.</p>
            <p><strong>2. ¿Cómo realizan los envíos?</strong><br>
            Trabajamos principalmente con Servientrega y LaarCourier para garantizar que tu pedido llegue seguro a la puerta de tu casa en 24-48 horas laborables.</p>
            <p><strong>3. ¿Tienen garantía los productos?</strong><br>
            Sí, todos nuestros productos tecnológicos cuentan con garantía por defectos de fábrica. Revisa los términos y condiciones para más detalles.</p>
            <p><strong>4. ¿Puedo visitar su local?</strong><br>
            ¡Claro! Estamos ubicados en Santo Domingo. Puedes ver la ubicación exacta en la sección "Ubicación" del menú.</p>
            <p><strong>5. ¿Qué métodos de pago aceptan?</strong><br>
            Aceptamos transferencias bancarias directas (Pichincha, Guayaquil) y pagos en efectivo en nuestro local.</p>
        </div>
    </div>

    <div class="info-modal" id="modalPolitica">
        <div class="info-modal-content">
            <button class="close-info-btn" onclick="closeInfoModal('modalPolitica')">×</button>
            <h2>Políticas y Terminos</h2>
            <p><strong>Protección de Datos</strong></p>
             <p>-En Gravity Shop X nos tomamos muy en serio tu privacidad. Los datos que proporcionas (nombre, dirección, teléfono) se utilizan exclusivamente para procesar y enviar tus pedidos.</p>
             <p>-Tu información es confidencial. NUNCA venderemos, alquilaremos ni compartiremos tu número de teléfono o datos personales con terceros ajenos a nuestra empresa.</p>
             <p>-Tus datos solo se comparten con la empresa de mensajería (Courier) estrictamente para realizar la entrega.</p>
            <p><strong>Cambios y Devoluciones:</strong> Se aceptan cambios únicamente si el producto presenta fallas de fábrica dentro de las primeras 24 horas de recibido.</p>
        </div>
    </div>

    <div class="info-modal" id="modalUbicacion">
        <div class="info-modal-content" style="text-align: center;">
            <button class="close-info-btn" onclick="closeInfoModal('modalUbicacion')">×</button>
            <h2>Nuestra Ubicación</h2>
            <p>Visítanos en nuestro local principal:</p>
            <p><i class="fas fa-map-marker-alt" style="color: #4facfe; font-size: 2rem;"></i></p>
            <p style="font-size: 1.2rem; font-weight: bold;">Urbanización Sueño de Bolivar</p>
            <p>Santo Domingo, Ecuador</p>
            <p><em>(Bajando las piscinas del Trebol)</em></p>
            
            <div style="margin-top: 15px; border-radius: 10px; overflow: hidden;">
                <iframe 
                    src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2372.34214383008!2d-79.16182816477367!3d-0.22333866027202448!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x91d5479247141dd1%3A0xc383784d0398f2fe!2sGravity%20Shop!5e0!3m2!1ses-419!2sec!4v1770184107373!5m2!1ses-419!2sec" 
                    width="100%" 
                    height="450" 
                    style="border:0;" 
                    allowfullscreen="" 
                    loading="lazy" 
                    referrerpolicy="no-referrer-when-downgrade">
                </iframe>
            </div>

            <hr>
            <p><strong>Horarios de Atención:</strong></p>
            <ul style="list-style: none; padding: 0;">
                <li>Lunes a Viernes: 08:00 - 20:30</li>
                <li>Sábados: 09:00 - 18:00</li>
            </ul>
        </div>
    </div>

    <div class="cart-overlay" onclick="toggleCart()"></div>
    <div class="cart-sidebar">
        <div class="cart-header">
            <h3 class="mb-0"><i class="fas fa-shopping-cart me-2"></i> Tu Carrito</h3>
            <button class="close-btn" onclick="toggleCart()"><i class="fas fa-times"></i></button>
        </div>
        <div class="cart-body" id="cartItems">
            <div class="empty-cart">
                <i class="fas fa-shopping-basket"></i>
                <p>Tu carrito está vacío</p>
            </div>
        </div>
        <div class="cart-footer">
            <div class="cart-total">
                <span>Total:</span>
                <span class="total-price" id="cartTotal">$0.00</span>
            </div>
            <button class="checkout-btn" onclick="checkoutWhatsApp()">
                <i class="fab fa-whatsapp me-2"></i> Finalizar por WhatsApp
            </button>
        </div>
    </div>

    <div class="modal-overlay" id="quickViewOverlay" onclick="closeQuickView()"></div>
    <div class="quick-view-modal" id="quickViewModal">
        <button class="close-modal-btn" onclick="closeQuickView()"><i class="fas fa-times"></i></button>
        <div id="quickViewContent"></div>
    </div>

    <div class="notification-toast" id="notification">
        <i class="fas fa-check-circle me-2"></i> <span id="notifMsg">Producto agregado</span>
    </div>

    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-col">
                    <h4 class="footer-title">GRAVITY SHOP X</h4>
                    <p class="footer-text">Líderes en tecnología y moda desde 2021. Calidad garantizada.</p>
                    <div class="social-links">
                        <a href="#" class="social-link"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-tiktok"></i></a>
                    </div>
                </div>
                <div class="footer-col">
                    <h5 class="footer-subtitle">INFORMACION</h5>
                    <ul class="footer-links">
                        <li><a href="#" onclick="openInfoModal('modalNosotros')">Sobre Nosotros</a></li>
                        <li><a href="#" onclick="openInfoModal('modalPolitica')">Políticas / Terminos y Condiciones</a></li>
                        <li><a href="#" onclick="openInfoModal('modalFaq')">Preguntas Frecuentes</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h5 class="footer-subtitle">CONTACTO</h5>
                    <ul class="footer-contact">
                        <li><i class="fas fa-map-marker-alt"></i> Santo Domingo, Ecuador</li>
                        <li><i class="fas fa-phone"></i> +593 98 310 5527</li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>© 2026 Gravity Shop X. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>

    <a href="https://wa.me/593999999999" target="_blank" class="whatsapp-float"><i class="fab fa-whatsapp"></i></a>
    <button class="scroll-top" id="scrollTop" onclick="window.scrollTo({top: 0, behavior: 'smooth'})"><i class="fas fa-arrow-up"></i></button>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="main.js"></script>

    <script>
        // Esta función corre INMEDIATAMENTE al cargar
        (function() {
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'dark') {
                document.body.setAttribute('data-theme', 'dark');
                const icon = document.querySelector('#themeToggleManual i');
                if(icon) { icon.classList.remove('fa-moon'); icon.classList.add('fa-sun'); }
            }
        })();

        // Función exclusiva para el botón (No choca con main.js porque cambiamos el ID)
        function toggleThemeManual() {
            const body = document.body;
            const icon = document.querySelector('#themeToggleManual i');
            
            if (body.hasAttribute('data-theme')) {
                // Cambiar a CLARO
                body.removeAttribute('data-theme');
                localStorage.setItem('theme', 'light');
                if(icon) { icon.classList.remove('fa-sun'); icon.classList.add('fa-moon'); }
            } else {
                // Cambiar a OSCURO
                body.setAttribute('data-theme', 'dark');
                localStorage.setItem('theme', 'dark');
                if(icon) { icon.classList.remove('fa-moon'); icon.classList.add('fa-sun'); }
            }
        }
    </script>

    <script>
        // Scripts para Slider y UI básica
        let slideIndex = 0;
        const slides = document.querySelectorAll('.hero-slide');
        const dots = document.querySelectorAll('.dot');
        let slideTimer;

        function showSlide(n) {
            if (n >= slides.length) slideIndex = 0;
            if (n < 0) slideIndex = slides.length - 1;

            slides.forEach(slide => slide.classList.remove('active'));
            dots.forEach(dot => dot.classList.remove('active'));

            slides[slideIndex].classList.add('active');
            dots[slideIndex].classList.add('active');
        }

        function changeSlide(n) {
            slideIndex += n;
            showSlide(slideIndex);
            resetTimer();
        }

        function goToSlide(n) {
            slideIndex = n;
            showSlide(slideIndex);
            resetTimer();
        }

        function startTimer() {
            slideTimer = setInterval(() => changeSlide(1), 5000);
        }

        function resetTimer() {
            clearInterval(slideTimer);
            startTimer();
        }

        document.addEventListener('DOMContentLoaded', () => {
            startTimer();
        });

        // Tabs
        function showHome() {
            document.getElementById('homeSection').style.display = 'block';
            document.getElementById('productViewSection').style.display = 'none';
            window.scrollTo({top: 0, behavior: 'smooth'});
        }

        function activateTab(category, titleName) {
            document.getElementById('homeSection').style.display = 'none';
            document.getElementById('productViewSection').style.display = 'block';
            document.getElementById('categoryTitle').textContent = titleName;
            
            if (typeof filterByCategory === "function") {
                filterByCategory(category);
            }
            
            const section = document.getElementById('productViewSection');
            if(section) {
                const topOffset = section.getBoundingClientRect().top + window.pageYOffset - 100;
                window.scrollTo({top: topOffset, behavior: 'smooth'});
            }
        }

        // Modales
        function openInfoModal(modalId) {
            const modal = document.getElementById(modalId);
            if(modal) {
                modal.style.display = 'flex';
                document.body.style.overflow = 'hidden';
            }
        }

        function closeInfoModal(modalId) {
            const modal = document.getElementById(modalId);
            if(modal) {
                modal.style.display = 'none';
                document.body.style.overflow = 'auto';
            }
        }

        window.onclick = function(event) {
            if (event.target.classList.contains('info-modal')) {
                event.target.style.display = "none";
                document.body.style.overflow = 'auto';
            }
        }
    </script>
    <script>
    // Forzar ocultar carga (por si main.js falla)
    window.addEventListener('load', function() {
        setTimeout(function() {
            const loader = document.getElementById('loadingScreen');
            if (loader) {
                loader.classList.add('hidden');
                document.body.style.overflow = 'auto';
            }
        }, 2000);
    });
    </script>
</body>
</html>
